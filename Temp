{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "SelectedCheckboxesPayload",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "checkboxes": {
      "title": "Selected Checkboxes",
      "description": "List of all checkboxes that are marked on the form.",
      "type": "array",
      "items": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "context": {
            "type": "string",
            "enum": ["question", "table"],
            "description": "Location of the checkbox: a standalone question line or a table cell."
          },
          "question": {
            "type": ["string", "null"],
            "description": "Full question text if context = \"question\"; otherwise null."
          },
          "answer": {
            "type": ["string", "null"],
            "description": "Answer label beside the checkbox if context = \"question\"; otherwise null."
          },
          "table_title": {
            "type": ["string", "null"],
            "description": "Title of the table if context = \"table\"; otherwise null."
          },
          "row": {
            "type": ["string", "null"],
            "description": "Row header or index if context = \"table\"; otherwise null."
          },
          "column": {
            "type": ["string", "null"],
            "description": "Column header or index if context = \"table\"; otherwise null."
          },
          "cell_label": {
            "type": ["string", "null"],
            "description": "Text inside the cell that contains the checkbox if context = \"table\"; otherwise null."
          },
          "checked": {
            "type": "boolean",
            "const": true,
            "description": "Always true because only selected checkboxes are returned."
          }
        },
        "required": ["context", "checked"]
      }
    }
  },
  "required": ["checkboxes"]
}
